<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Slave Stack Code Generation - EtherCAT Library and Applications</title> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-2724382-16"); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Slave Stack Code Generation | EtherCAT Library and Applications</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Slave Stack Code Generation" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 EtherCAT package" /> <meta property="og:description" content="Harmony 3 EtherCAT package" /> <link rel="canonical" href="../../apps/docs/readme_ssctool.html" /> <meta property="og:url" content="../../apps/docs/readme_ssctool.html" /> <meta property="og:site_name" content="EtherCAT Library and Applications" /> <script type="application/ld+json"> {"@type":"WebPage","url":"../../apps/docs/readme_ssctool.html","headline":"Slave Stack Code Generation","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"description":"Harmony 3 EtherCAT package","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="../../mplab_harmony_license.html" class="navigation-list-link"></a></li><li class="navigation-list-item active"><a href="../../release_notes.html" class="navigation-list-link"></a></li><li class="navigation-list-item"><a href="../../index.html" class="navigation-list-link">EtherCAT Library and Applications</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="../../driver/readme.html" class="navigation-list-link">EtherCAT LAN925x Library</a></li><li class="navigation-list-item "><a href="../../apps/ethercat_counter_foe_app/readme.html" class="navigation-list-link">EtherCAT Counter FoE Application</a></li></ul></li><li class="navigation-list-item active"><a href="../../apps/docs/readme_ssctool.html" class="navigation-list-link active">Slave Stack Code Generation</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search EtherCAT Library and Applications" aria-label="Search EtherCAT Library and Applications" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="https://support.microchip.com">Obtain Support from Microchip</a></li> </ul> </div> <div class="page"> <div id="main-content" class="page-content" role="main"> <h1 id="slave-stack-code-generation"> <a href="#slave-stack-code-generation" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> <strong>Slave Stack Code Generation</strong> </h1> <ol> <li> <p>Download the Slave Stack Code (SSC) Tool from EtherCAT.org website. An EtherCAT membership is necessary to download the code. The following link can be used to download the tool.</p> <p><a href="https://www.ethercat.org/en/downloads/downloads_01DCC32A10294F2EA866F7E46FB0285F.htm">EtherCAT Slave Stack Code (SSC) v5.12</a></p> </li> <li>Install the SSC Tool on the control/management PC</li> <li>Open the SSC Tool and navigate to File =&gt; New to create a New Project</li> <li> <p>Select Custom and then click Import</p> <p><img src="../../apps/docs/images/ssc_import_configuration_file.png" alt="SSC Tool" /></p> </li> <li> <p>Import “Microchip-SAMD51-LAN925x-SSC_Config.xml” configuration file from <strong>&lt; Harmony Directory &gt;/ethercat/apps/ethercat_counter_foe_app/firmware/src/slave_stack</strong>. After importing this configuration file, the <strong>Microchip - EtherCAT Slave Controller &lt; Microchip &gt;</strong> will appear in the custom field.</p> <p><img src="../../apps/docs/images/custom_sscfile_selected.png" alt="SSC Tool" /></p> <p>Select this and click OK. Click Yes to the next two prompts</p> <p><img src="../../apps/docs/images/ssc_import_configuration_file_2.png" alt="SSC Tool" /></p> </li> <li> <p>The driver <strong>drv_lan9252.c</strong> is required for this configuration and to select file , Click <strong>yes</strong>. In the SSC tool navigate to the <strong>&lt; Harmony Directory &gt;/ethercat/apps/ethercat_counter_foe_app/firmware/src/config/sam_d51_lan9252_evb/driver/lan9252</strong> directory to point to the <strong>drv_lan9252.c</strong> file and click Open. This will load the code.</p> <p><img src="../../apps/docs/images/drv_lan9252_selection.png" alt="SSC Tool" /></p> </li> <li> <p>Click on <strong>Tools=&gt;Application=&gt;Import</strong> and select <strong>sample_app.xlsx</strong> application file from the path <strong>&lt; Harmony Directory &gt;/ethercat/apps/ethercat_counter_foe_app/firmware/src/slave_stack</strong> . Click OK to the next prompt</p> <p><img src="../../apps/docs/images/ssc_import_configuration_file_3.png" alt="SSC Tool" /></p> </li> <li>Click on <strong>Tools=&gt;Create New Slave Files</strong>. When prompted to save the project, save the project in the directory provided with name <strong>SAMD51_EtherCAT_Slave.esp</strong>. <ul> <li> <p>Click the Project drop-down menu in the tool bar and select Create New Slave Files. The pop-up windows open the newly slave file project ( SAMD51_EtherCAT_Slave.esp ),</p> <p><img src="../../apps/docs/images/ssc_import_configuration_file_4.png" alt="SSC Tool" /></p> </li> <li> <p>Click the Start button to create a new project file, <strong>Src</strong> folder, and <strong>ESI</strong> file (Slave Information file) in the desired directory path.</p> </li> <li> <p>A pop-up window will indicate that the files have been successfully created. Click OK to continue.</p> </li> <li> <p>Along with generated new slave files, ESI file (.xml file) also will be generated. This ESI file will have information about new Vendor ID and object configuration. This ESI file will be used by the <strong>TwinCAT Manager</strong> and is used to be programmed using “EEPROM Programming”.</p> </li> </ul> <p><strong>NOTE</strong> - <strong>EEPROM Programming</strong> is described in <strong>Running the demo application</strong> section</p> </li> <li>Browse to the directory where the new files were created, as shown in the example: <ul> <li>Src (Folder): This folder contains the Beckhoff Slave Stack code.</li> <li>SAMD51_EtherCAT_Slave (ESP): This is the SSC Tool project file.</li> <li>SAMD51_EtherCAT_Slave (XML): This is the EtherCAT® slave information file that must be used as an input to the EtherCAT master tool to configure EtherCAT® slave controllers.</li> </ul> </li> <li>The generated sample_app.c , does not have the counter, trigger configuration details and FoE read/write operations. So, the present <strong>sample_app.c, sample_app.h, sample_appObject.h</strong> can be updated from the location <strong>&lt; Harmony Directory &gt;/ethercat/apps/ethercat_counter_foe_app/firmware/src/slave_stack</strong>.</li> </ol> <hr> <footer role="contentinfo"> <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2020 Microchip Technology.</p> </footer> </div> </div> </div> </div> </body> </html>
